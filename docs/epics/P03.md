# P03 — Cloud-safe DB schema + migrations + seeds

## Implementation notes
- Adds SQL migrations under `db/migrations` with a full PCRM schema and indexes.
- Includes bash scripts for migration, reset, and seed workflows that rely on local Postgres or the provided Docker Compose service.
- Adds a migration smoke test to verify the schema coverage in CI without requiring a database connection.

## Key files
- `db/migrations/001_init.sql` — schema, extensions, and indexes.
- `db/scripts/common.sh` — shared connection handling for Postgres tooling.
- `db/scripts/migrate.sh` — apply migrations in order.
- `db/scripts/reset.sh` — drop/recreate schema, re-run migrations, seed.
- `db/scripts/seed.sh` — apply local seed data.
- `db/seeds/seed.sql` — local-only seed data.
- `__tests__/db-migrations.test.ts` — smoke test covering migration content expectations.
- `LOCAL_VERIFICATION.md` — local command checklist.

## Local verification
See `LOCAL_VERIFICATION.md` for the full checklist and P03 commands.
